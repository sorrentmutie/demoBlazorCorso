@using LIbreriaComponentiBlazor.Models
@using Microsoft.AspNetCore.Components.Forms
@typeparam TItem

<EditForm Model="NewItem" OnValidSubmit="@(() => OnSave.InvokeAsync(NewItem))">
    <DataAnnotationsValidator/>

    @if(NewItem != null && FormFields != null)
    {
        @FormFields(NewItem)
    }

    <button type="submit" class="btn btn-success">OK</button>
    <button type="button" @onclick="OnCancel" class="btn btn-success">Annulla</button>

</EditForm>

@code {
    [Parameter] public TItem? NewItem { get; set; }
    [Parameter] public EventCallback<TItem> OnSave { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }
    [Parameter] public RenderFragment<TItem>? FormFields { get; set; }
}
